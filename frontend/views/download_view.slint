import { SmallAppBar, FilledButton, Ripple, FilledCard, Dialog } from "../../material-components/material.slint";
import { ScrollView, ListView, Button } from "std-widgets.slint";
import { FrameView, FrameViewVertical } from "../components/frame_view.slint";
import { FilledIcons } from "../icons.slint";
import { TaskListView } from "download_views/task_list_view.slint";
import { CreateTaskView } from "download_views/create_task_view.slint";
import { QueryCardInfo } from "../modules.slint";
import { ListItem } from "../components/task_list.slint";

export struct VideoInfo {
    title: string,
    author: string,
    cover: image,
    count: int,
}

export component DownloadView {
    in property <int> viewIndex;
    callback on_goto_create_task();

    in property <int> crate_task_view_index;
    // Property for Query view
    in property <bool> query_is_info_showing;
    in property <bool> query_is_querying;
    in property <QueryCardInfo> query_card;
    callback query_info(int, string);
    // Property for Editor view
    in property <bool> is_include_parts;
    in property <bool> is_creating;
    in property <[ListItem]> task_item_list;
    callback add_to_temp_list();
    callback add_to_create();
    callback back_clicked();


    if viewIndex == 0 : TaskListView {
        on_goto_create_task => {on_goto_create_task()}
    } // Task List View

    if viewIndex == 1 : CreateTaskView {
        index: crate_task_view_index;
        // Property for Query view
        query_is_info_showing: root.query_is_info_showing;
        query_is_querying: root.query_is_querying;
        query_card: root.query_card;
        // Property for Editor view
        is_include_parts: root.is_include_parts;
        is_creating: root.is_creating;
        task_item_list: root.task_item_list;
        query_info(queryType, input) => {query_info(queryType, input)}
        add_to_temp_list => {root.add_to_temp_list()}
        add_to_create => {root.add_to_create()}
        leading_clicked => {root.back_clicked()}
    } // Create List View

}